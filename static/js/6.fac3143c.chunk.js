"use strict";(self.webpackChunkmy=self.webpackChunkmy||[]).push([[6],{6006:function(e,s,r){r.r(s),r.d(s,{default:function(){return G}});var t=r(1413),n=r(5671),o=r(3144),i=r(136),a=r(516),l=r(2791),u="Profile_profile__G7Ux6",c="MyPosts_myposts__v+RJ+",d="MyPosts_error__wZfWV",h="MyPosts_formControl__2RWkm",f="Post_item__IIlj3",p=r(184),x=function(e){return(0,p.jsxs)("div",{className:f,children:[(0,p.jsx)("img",{src:"https://klike.net/uploads/posts/2019-03/1551511791_8.jpg",alt:""}),e.message,(0,p.jsxs)("div",{children:[(0,p.jsx)("button",{children:"Like"}),e.LiksCounter]})]})},j=r(1134),m=function(e){(0,i.Z)(r,e);var s=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),s.apply(this,arguments)}return(0,o.Z)(r,[{key:"shouldComponentUpdate",value:function(e,s){return this.props!==e||this.state!==s}},{key:"render",value:function(){var e=this.props,s=e.posts.map((function(e){return(0,p.jsx)(x,{message:e.message,LiksCounter:e.liksCounter},e.id)}));return(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)(v,(0,t.Z)({},e)),s]})}}]),r}(l.Component),v=function(e){var s=(0,j.cI)({mode:"onBlur"}),r=s.register,n=s.handleSubmit,o=s.reset,i=s.formState.errors,a=null===i||void 0===i?void 0:i.newPostText;return(0,p.jsxs)("form",{className:c,onSubmit:n((function(s){e.addPost(s.newPostText),o()})),children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("textarea",(0,t.Z)((0,t.Z)({className:a&&h},r("newPostText",{required:"Post is require field!",maxLength:{value:30,message:"Max length is 30 simbols"}})),{},{placeholder:"new post"})),a&&(0,p.jsx)("div",{className:d,children:i.newPostText.message})]}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Add post"})})]})},b=m,g=r(468),k=r(3531),P=g.Nw.addPost,Z=(0,k.$j)((function(e){return{posts:e.postsPage.posts}}),{addPost:P})(b),_=r(9439),N=r(5804),y="ProfileInfo_item__JvtgD",w="ProfileInfo_mainFoto__GGRL2",F="ProfileInfo_contacts__JlGkk",M="ProfileInfo_errorMessage__K5Qsk",S=l.memo((function(e){var s=e.updateStatus,r=e.status,t=e.isOwner,n=(0,l.useState)(!1),o=(0,_.Z)(n,2),i=o[0],a=o[1],u=(0,l.useState)(r),c=(0,_.Z)(u,2),d=c[0],h=c[1];(0,l.useEffect)((function(){h(r)}),[r]);return(0,p.jsxs)("div",{children:[!i&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Status : "}),(0,p.jsx)("span",{onDoubleClick:function(){t&&a(!0)},children:r||"No status"})]}),i&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(e){h(e.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),s(d)},value:d})})]})})),A=S,C=r(6181),I=r(4165),J=r(5861),O=function(e){var s,r,n,o=e.saveProfile,i=e.profile,a=e.goOutEditMode,l=(0,j.cI)({mode:"onBlur"}),u=l.register,c=l.formState,d=c.errors,h=c.isValid,f=l.handleSubmit,x=l.clearErrors,m=l.setValue,v=l.setError,b=l.reset,g=function(){var e=(0,J.Z)((0,I.Z)().mark((function e(s){return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(s,v);case 2:a(),b();case 4:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{children:[(0,p.jsx)("button",{onClick:function(){m("fullName",i.fullName),m("lookingForAJob",i.lookingForAJob),m("aboutMe",i.aboutMe),m("lookingForAJobDescription",i.lookingForAJobDescription),Object.keys(i.contacts).map((function(e){return m("contacts.".concat(e),i.contacts[e])}))},children:(0,p.jsx)("b",{children:"fill data"})}),(0,p.jsxs)("form",{onSubmit:f(g),children:[(0,p.jsx)("div",{children:(0,p.jsxs)("label",{children:[(0,p.jsx)("b",{children:"Full name :"}),(0,p.jsx)("br",{}),(0,p.jsx)("input",(0,t.Z)((0,t.Z)({},u("fullName",{required:"This field is requiered.",minLength:{value:20,message:"Your login must be at least 20 symbols long."}})),{},{onFocus:function(){return x(["fullName","server"])}}))]})}),(0,p.jsx)("div",{className:M,children:d.fullName&&(0,p.jsx)("span",{children:(null===(s=d.fullName)||void 0===s?void 0:s.message)||"Error!"})}),(0,p.jsxs)("label",{children:[(0,p.jsx)("b",{children:"Looking for a job "}),(0,p.jsx)("input",(0,t.Z)({type:"checkbox"},u("lookingForAJob")))]}),(0,p.jsx)("div",{children:(0,p.jsxs)("label",{children:[(0,p.jsx)("b",{children:"About me:"}),(0,p.jsx)("br",{}),(0,p.jsx)("input",(0,t.Z)((0,t.Z)({},u("aboutMe",{required:"This field is requiered.",minLength:{value:20,message:"Your login must be at least 20 symbols long."}})),{},{onFocus:function(){return x(["aboutMe","server"])}}))]})}),(0,p.jsx)("div",{className:M,children:d.aboutMe&&(0,p.jsx)("span",{children:(null===(r=d.aboutMe)||void 0===r?void 0:r.message)||"Error!"})}),(0,p.jsx)("div",{children:(0,p.jsxs)("label",{children:[(0,p.jsx)("b",{children:"My professional skills:"}),(0,p.jsx)("br",{}),(0,p.jsx)("textarea",(0,t.Z)((0,t.Z)({},u("lookingForAJobDescription",{required:"This field is requiered.",minLength:{value:20,message:"Your login must be at least 20 symbols long."}})),{},{onFocus:function(){return x(["lookingForAJobDescription","server"])}}))]})}),(0,p.jsx)("div",{className:M,children:d.lookingForAJobDescription&&(0,p.jsx)("span",{children:(null===(n=d.lookingForAJobDescription)||void 0===n?void 0:n.message)||"Error!"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts:"}),Object.keys(i.contacts).map((function(e){var s;return(0,p.jsxs)("div",{className:F,children:[e,":",(0,p.jsx)("br",{}),(0,p.jsx)("label",{children:(0,p.jsx)("input",(0,t.Z)((0,t.Z)({},u("contacts.".concat(e),{required:"This field is requiered.",minLength:{value:10,message:"Your login must be at least 10 symbols long."}})),{},{onFocus:function(){return x(["contacts.".concat(e),"server"])}}))}),(0,p.jsx)("div",{className:M,children:d["contacts.".concat(e)]&&(0,p.jsx)("span",{children:(null===(s=d["contacts.".concat(e)])||void 0===s?void 0:s.message)||"Error!"})})]},e)})),(0,p.jsx)("br",{})]}),d.server&&(0,p.jsx)("div",{className:M,children:(0,p.jsx)("span",{children:d.server.message})}),(0,p.jsx)("button",{disabled:!h,children:(0,p.jsx)("b",{children:"save"})})]})]})},T=function(e){var s=e.profile,r=e.isOwner,t=e.goToEditMode;return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Full name "})," : ",s.fullName]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job"})," : ",s.lookingForAJob?"Yes":"No"]}),s.lookingForAJob&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My professional skills"})," : ",s.lookingForAJobDescription]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me: "}),s.aboutMe]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts"})," :",Object.keys(s.contacts).map((function(e){return(0,p.jsx)(q,{contactTitle:e,contactValue:s.contacts[e]},e)}))]}),r&&(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:t,children:"edit"})})]})},q=function(e){var s=e.contactTitle,r=e.contactValue;return(0,p.jsxs)("div",{className:F,children:[(0,p.jsx)("b",{children:s})," : ",r]})},D=function(e){var s=e.profile,r=e.status,t=e.updateStatus,n=e.isOwner,o=e.savePhoto,i=e.saveProfile,a=(0,l.useState)(!1),u=(0,_.Z)(a,2),c=u[0],d=u[1];if(!s)return(0,p.jsx)(N.Z,{});return(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:y,children:[(0,p.jsx)("img",{src:s.photos.large||C,alt:"",className:w}),(0,p.jsx)("br",{}),n&&(0,p.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])}}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),c?(0,p.jsx)(O,{profile:s,saveProfile:i,goOutEditMode:function(){return d(!1)}}):(0,p.jsx)(T,{profile:s,isOwner:n,goToEditMode:function(){return d(!0)}}),(0,p.jsx)(A,{updateStatus:t,status:r,isOwner:n})]})})},E=function(e){var s=e.isOwner,r=e.profile,t=e.updateStatus,n=e.status,o=e.posts,i=e.savePhoto,a=e.saveProfile;return(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)(D,{isOwner:s,profile:r,updateStatus:t,status:n,savePhoto:i,saveProfile:a}),(0,p.jsx)(Z,{posts:o})]})},L=r(7689);var U=r(7781);var V=function(e){(0,i.Z)(r,e);var s=(0,a.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=s.call.apply(s,[this].concat(o))).refreshProfile=function(){var s=e.props.match.params.userId;s||(s=e.props.authorizedUserId)||e.props.router.navigate("/login"),e.props.getUserProfile(s),e.props.getStatus(s)},e.componentDidMount=function(){e.refreshProfile()},e.componentDidUpdate=function(s,r){e.props.match.params.userId!==s.match.params.userId&&e.refreshProfile()},e}return(0,o.Z)(r,[{key:"render",value:function(){return(0,p.jsx)("div",{children:(0,p.jsx)(E,(0,t.Z)((0,t.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))})}}]),r}(l.PureComponent),Y=g.Nw.updateStatus,G=(0,U.qC)((function(e){return function(s){var r=(0,L.TH)(),n=(0,L.s0)(),o=(0,L.UO)();return(0,p.jsx)(e,(0,t.Z)((0,t.Z)({},s),{},{router:{location:r,navigate:n,params:o}}))}}),(0,k.$j)((function(e){return{profile:e.postsPage.profile,status:e.postsPage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:g.et,getStatus:g.lR,updateStatus:Y,savePhoto:g.Ju,saveProfile:g.Ii}),(function(e){return function(s){var r={params:(0,L.UO)()};return(0,p.jsx)(e,(0,t.Z)((0,t.Z)({},s),{},{match:r}))}}))(V)}}]);
//# sourceMappingURL=6.fac3143c.chunk.js.map